{% extends 'app/base.html' %}

{% block content %}
  <div class="container mt-4">
    <h2>Update Post</h2>
    <form action="{% url 'post_update' post.pk %}" method="post" enctype="multipart/form-data" id="post_create_form">
      {% csrf_token %}

      <!-- Title Field -->
      <div class="form-group mb-3">
        <label for="title" class="form-label">Title</label>
        <input type="text" id="title" name="title" class="form-control" value="{{ post.title }}" required>
      </div>

      <!-- Body Field -->
      <div class="form-group mb-3">
        <label for="body" class="form-label">Body</label>
        <textarea id="body" name="body" class="form-control" rows="4" required>{{ post.body }}</textarea>
      </div>

      <!-- Post Image Field (optional to show current image) -->
      <div class="form-group mb-3">
        <label for="post_image" class="form-label">Post Image</label>
        <input type="file" id="post_image" name="post_image" class="form-control-file">
        {% if post.post_image %}
          <div class="mt-2">
            <img src="{{ post.post_image.url }}" alt="Current image" style="max-width: 150px;">
          </div>
        {% endif %}
      </div>

      <!-- Categories Field -->
      <div class="form-group mb-3">
        <label for="post_categories" class="form-label">Categories</label>
        <input type="text" id="post_categories" name="post_categories" class="form-control" value="{{ post.categories }}" required>
      </div>

      <!-- Submit Button -->
      <button type="submit" id="create_post_btn" class="btn btn-primary">Update Post</button>
    </form>
  </div>
{% endblock content %}
